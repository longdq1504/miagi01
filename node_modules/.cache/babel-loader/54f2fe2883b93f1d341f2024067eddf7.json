{"ast":null,"code":"import { sessionService } from 'redux-react-session';\nimport * as sessionApi from '../api/sessionApi';\nexport const login = (user, history) => {\n  return () => {\n    return sessionApi.login(user).then(response => {\n      //============\n      const {\n        token\n      } = response.data;\n      sessionService.saveSession({\n        token\n      }).then(() => {\n        sessionService.saveUser(response.data.user).then(() => {\n          history.push('/');\n        }).catch(err => console.error(err));\n      }).catch(err => console.error(err));\n    });\n  };\n};\nexport const logout = history => {\n  return () => {\n    return sessionApi.logout().then(() => {\n      sessionService.deleteSession();\n      sessionService.deleteUser();\n      history.push('/login');\n    }).catch(err => {\n      throw err;\n    });\n  };\n};","map":{"version":3,"sources":["/home/longdq08/react_project/miagi-inside-web/src/actions/sessionActions.js"],"names":["sessionService","sessionApi","login","user","history","then","response","token","data","saveSession","saveUser","push","catch","err","console","error","logout","deleteSession","deleteUser"],"mappings":"AAAA,SAASA,cAAT,QAA+B,qBAA/B;AACA,OAAO,KAAKC,UAAZ,MAA4B,mBAA5B;AAEA,OAAO,MAAMC,KAAK,GAAG,CAACC,IAAD,EAAOC,OAAP,KAAmB;AACtC,SAAO,MAAM;AACX,WAAOH,UAAU,CAACC,KAAX,CAAiBC,IAAjB,EAAuBE,IAAvB,CAA4BC,QAAQ,IAAI;AAAE;AAC/C,YAAM;AAAEC,QAAAA;AAAF,UAAYD,QAAQ,CAACE,IAA3B;AACAR,MAAAA,cAAc,CAACS,WAAf,CAA2B;AAAEF,QAAAA;AAAF,OAA3B,EACCF,IADD,CACM,MAAM;AACVL,QAAAA,cAAc,CAACU,QAAf,CAAwBJ,QAAQ,CAACE,IAAT,CAAcL,IAAtC,EACCE,IADD,CACM,MAAM;AACVD,UAAAA,OAAO,CAACO,IAAR,CAAa,GAAb;AACD,SAHD,EAGGC,KAHH,CAGSC,GAAG,IAAIC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAHhB;AAID,OAND,EAMGD,KANH,CAMSC,GAAG,IAAIC,OAAO,CAACC,KAAR,CAAcF,GAAd,CANhB;AAOD,KATM,CAAP;AAUD,GAXD;AAYD,CAbM;AAeP,OAAO,MAAMG,MAAM,GAAIZ,OAAD,IAAa;AACjC,SAAO,MAAM;AACX,WAAOH,UAAU,CAACe,MAAX,GAAoBX,IAApB,CAAyB,MAAM;AACpCL,MAAAA,cAAc,CAACiB,aAAf;AACAjB,MAAAA,cAAc,CAACkB,UAAf;AACAd,MAAAA,OAAO,CAACO,IAAR,CAAa,QAAb;AACD,KAJM,EAIJC,KAJI,CAIEC,GAAG,IAAI;AACd,YAAOA,GAAP;AACD,KANM,CAAP;AAOD,GARD;AASD,CAVM","sourcesContent":["import { sessionService } from 'redux-react-session';\nimport * as sessionApi from '../api/sessionApi';\n\nexport const login = (user, history) => {\n  return () => {\n    return sessionApi.login(user).then(response => { //============\n      const { token } = response.data;\n      sessionService.saveSession({ token })\n      .then(() => {\n        sessionService.saveUser(response.data.user)\n        .then(() => {\n          history.push('/');\n        }).catch(err => console.error(err));\n      }).catch(err => console.error(err));\n    });\n  };\n};\n\nexport const logout = (history) => {\n  return () => {\n    return sessionApi.logout().then(() => {\n      sessionService.deleteSession();\n      sessionService.deleteUser();\n      history.push('/login');\n    }).catch(err => {\n      throw (err);\n    });\n  };\n};"]},"metadata":{},"sourceType":"module"}