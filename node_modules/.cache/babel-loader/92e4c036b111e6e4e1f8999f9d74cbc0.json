{"ast":null,"code":"import { sessionService } from 'redux-react-session';\nimport * as sessionApi from '../api/sessionApi';\nexport const login = param => {\n  return async () => {\n    try {\n      const {\n        token,\n        user\n      } = await sessionApi.login(param);\n      console.log(user);\n      await sessionService.saveSession(token);\n      await sessionService.saveUser(user);\n    } catch (ex) {\n      throw ex;\n    }\n  };\n};\nexport const logout = history => {\n  return () => {\n    return sessionApi.logout().then(() => {\n      sessionService.deleteSession();\n      sessionService.deleteUser();\n      history.push('/login');\n    }).catch(err => {\n      throw err;\n    });\n  };\n};","map":{"version":3,"sources":["/home/longdq08/react_project/miagi-inside-web/src/actions/sessionActions.js"],"names":["sessionService","sessionApi","login","param","token","user","console","log","saveSession","saveUser","ex","logout","history","then","deleteSession","deleteUser","push","catch","err"],"mappings":"AAAA,SAASA,cAAT,QAA+B,qBAA/B;AACA,OAAO,KAAKC,UAAZ,MAA4B,mBAA5B;AAEA,OAAO,MAAMC,KAAK,GAAIC,KAAD,IAAW;AAC9B,SAAO,YAAY;AACf,QAAI;AACF,YAAM;AAACC,QAAAA,KAAD;AAAQC,QAAAA;AAAR,UAAgB,MAAMJ,UAAU,CAACC,KAAX,CAAiBC,KAAjB,CAA5B;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,YAAML,cAAc,CAACQ,WAAf,CAA2BJ,KAA3B,CAAN;AACA,YAAMJ,cAAc,CAACS,QAAf,CAAwBJ,IAAxB,CAAN;AACD,KALD,CAKE,OAAOK,EAAP,EAAW;AACX,YAAMA,EAAN;AACD;AACJ,GATD;AAUD,CAXM;AAaP,OAAO,MAAMC,MAAM,GAAIC,OAAD,IAAa;AACjC,SAAO,MAAM;AACX,WAAOX,UAAU,CAACU,MAAX,GAAoBE,IAApB,CAAyB,MAAM;AACpCb,MAAAA,cAAc,CAACc,aAAf;AACAd,MAAAA,cAAc,CAACe,UAAf;AACAH,MAAAA,OAAO,CAACI,IAAR,CAAa,QAAb;AACD,KAJM,EAIJC,KAJI,CAIEC,GAAG,IAAI;AACd,YAAOA,GAAP;AACD,KANM,CAAP;AAOD,GARD;AASD,CAVM","sourcesContent":["import { sessionService } from 'redux-react-session';\nimport * as sessionApi from '../api/sessionApi';\n\nexport const login = (param) => {\n  return async () => {\n      try {\n        const {token, user} = await sessionApi.login(param);\n        console.log(user);\n        await sessionService.saveSession(token);\n        await sessionService.saveUser(user);\n      } catch (ex) {\n        throw ex;\n      }\n  };\n};\n\nexport const logout = (history) => {\n  return () => {\n    return sessionApi.logout().then(() => {\n      sessionService.deleteSession();\n      sessionService.deleteUser();\n      history.push('/login');\n    }).catch(err => {\n      throw (err);\n    });\n  };\n};"]},"metadata":{},"sourceType":"module"}