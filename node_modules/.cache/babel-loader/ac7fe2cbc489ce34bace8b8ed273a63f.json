{"ast":null,"code":"import { sessionService } from 'redux-react-session';\nimport * as sessionApi from '../api/sessionApi';\nexport const login = async user => {\n  try {\n    const {\n      token,\n      user\n    } = await sessionApi.login(user);\n    await sessionService.saveSession(token);\n    await sessionService.saveUser(user);\n  } catch {}\n};\nexport const logout = history => {\n  return () => {\n    return sessionApi.logout().then(() => {\n      sessionService.deleteSession();\n      sessionService.deleteUser();\n      history.push('/login');\n    }).catch(err => {\n      throw err;\n    });\n  };\n};","map":{"version":3,"sources":["/home/longdq08/react_project/miagi-inside-web/src/actions/sessionActions.js"],"names":["sessionService","sessionApi","login","user","token","saveSession","saveUser","logout","history","then","deleteSession","deleteUser","push","catch","err"],"mappings":"AAAA,SAASA,cAAT,QAA+B,qBAA/B;AACA,OAAO,KAAKC,UAAZ,MAA4B,mBAA5B;AAEA,OAAO,MAAMC,KAAK,GAAG,MAAOC,IAAP,IAAgB;AACjC,MAAI;AACF,UAAM;AAACC,MAAAA,KAAD;AAAQD,MAAAA;AAAR,QAAgB,MAAMF,UAAU,CAACC,KAAX,CAAiBC,IAAjB,CAA5B;AACA,UAAMH,cAAc,CAACK,WAAf,CAA2BD,KAA3B,CAAN;AACA,UAAMJ,cAAc,CAACM,QAAf,CAAwBH,IAAxB,CAAN;AACD,GAJD,CAIE,MAAM,CAEP;AACJ,CARM;AAUP,OAAO,MAAMI,MAAM,GAAIC,OAAD,IAAa;AACjC,SAAO,MAAM;AACX,WAAOP,UAAU,CAACM,MAAX,GAAoBE,IAApB,CAAyB,MAAM;AACpCT,MAAAA,cAAc,CAACU,aAAf;AACAV,MAAAA,cAAc,CAACW,UAAf;AACAH,MAAAA,OAAO,CAACI,IAAR,CAAa,QAAb;AACD,KAJM,EAIJC,KAJI,CAIEC,GAAG,IAAI;AACd,YAAOA,GAAP;AACD,KANM,CAAP;AAOD,GARD;AASD,CAVM","sourcesContent":["import { sessionService } from 'redux-react-session';\nimport * as sessionApi from '../api/sessionApi';\n\nexport const login = async (user) => {\n    try {\n      const {token, user} = await sessionApi.login(user);\n      await sessionService.saveSession(token);\n      await sessionService.saveUser(user);\n    } catch {\n\n    }\n};\n\nexport const logout = (history) => {\n  return () => {\n    return sessionApi.logout().then(() => {\n      sessionService.deleteSession();\n      sessionService.deleteUser();\n      history.push('/login');\n    }).catch(err => {\n      throw (err);\n    });\n  };\n};"]},"metadata":{},"sourceType":"module"}