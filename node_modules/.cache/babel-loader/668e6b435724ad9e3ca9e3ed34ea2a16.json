{"ast":null,"code":"import { sessionService } from 'redux-react-session';\nimport * as sessionApi from '../api/sessionApi';\nexport const login = user => {\n  return () => {\n    return sessionApi.login(user).then(response => {\n      console.log(response); //============response dat ten la gi cung duoc, nhung no la gia tri thanh cong cua promise \n      //sessionApi.login(user) la Promise\n\n      const {\n        token\n      } = response.data;\n      sessionService.saveSession({\n        token\n      }) // saveSession tra ve Promise\n      .then(() => {\n        sessionService.saveUser(response.data.user).then(() => {}).catch(err => console.error(err));\n      }).catch(err => console.error(err));\n    });\n  };\n};\nexport const logout = history => {\n  return () => {\n    return sessionApi.logout().then(() => {\n      sessionService.deleteSession();\n      sessionService.deleteUser();\n      history.push('/login');\n    }).catch(err => {\n      throw err;\n    });\n  };\n};","map":{"version":3,"sources":["/home/longdq08/react_project/miagi-inside-web/src/actions/sessionActions.js"],"names":["sessionService","sessionApi","login","user","then","response","console","log","token","data","saveSession","saveUser","catch","err","error","logout","history","deleteSession","deleteUser","push"],"mappings":"AAAA,SAASA,cAAT,QAA+B,qBAA/B;AACA,OAAO,KAAKC,UAAZ,MAA4B,mBAA5B;AAEA,OAAO,MAAMC,KAAK,GAAIC,IAAD,IAAU;AAC7B,SAAO,MAAM;AACX,WAAOF,UAAU,CAACC,KAAX,CAAiBC,IAAjB,EAAuBC,IAAvB,CAA4BC,QAAQ,IAAI;AAC7CC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAD6C,CAE7C;AACA;;AACA,YAAM;AAAEG,QAAAA;AAAF,UAAYH,QAAQ,CAACI,IAA3B;AACAT,MAAAA,cAAc,CAACU,WAAf,CAA2B;AAAEF,QAAAA;AAAF,OAA3B,EAAsC;AAAtC,OACCJ,IADD,CACM,MAAM;AACVJ,QAAAA,cAAc,CAACW,QAAf,CAAwBN,QAAQ,CAACI,IAAT,CAAcN,IAAtC,EACCC,IADD,CACM,MAAM,CACX,CAFD,EAEGQ,KAFH,CAESC,GAAG,IAAIP,OAAO,CAACQ,KAAR,CAAcD,GAAd,CAFhB;AAGD,OALD,EAKGD,KALH,CAKSC,GAAG,IAAIP,OAAO,CAACQ,KAAR,CAAcD,GAAd,CALhB;AAMD,KAXM,CAAP;AAYD,GAbD;AAcD,CAfM;AAiBP,OAAO,MAAME,MAAM,GAAIC,OAAD,IAAa;AACjC,SAAO,MAAM;AACX,WAAOf,UAAU,CAACc,MAAX,GAAoBX,IAApB,CAAyB,MAAM;AACpCJ,MAAAA,cAAc,CAACiB,aAAf;AACAjB,MAAAA,cAAc,CAACkB,UAAf;AACAF,MAAAA,OAAO,CAACG,IAAR,CAAa,QAAb;AACD,KAJM,EAIJP,KAJI,CAIEC,GAAG,IAAI;AACd,YAAOA,GAAP;AACD,KANM,CAAP;AAOD,GARD;AASD,CAVM","sourcesContent":["import { sessionService } from 'redux-react-session';\nimport * as sessionApi from '../api/sessionApi';\n\nexport const login = (user) => {\n  return () => {\n    return sessionApi.login(user).then(response => { \n      console.log(response);\n      //============response dat ten la gi cung duoc, nhung no la gia tri thanh cong cua promise \n      //sessionApi.login(user) la Promise\n      const { token } = response.data;\n      sessionService.saveSession({ token }) // saveSession tra ve Promise\n      .then(() => {\n        sessionService.saveUser(response.data.user)\n        .then(() => {\n        }).catch(err => console.error(err));\n      }).catch(err => console.error(err));\n    });\n  };\n};\n\nexport const logout = (history) => {\n  return () => {\n    return sessionApi.logout().then(() => {\n      sessionService.deleteSession();\n      sessionService.deleteUser();\n      history.push('/login');\n    }).catch(err => {\n      throw (err);\n    });\n  };\n};"]},"metadata":{},"sourceType":"module"}