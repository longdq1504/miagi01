{"ast":null,"code":"import { sessionService } from 'redux-react-session';\nimport * as sessionApi from '../api/sessionApi';\nexport const login = async param => {\n  return async () => {\n    try {\n      const {\n        token,\n        user\n      } = await sessionApi.login(param);\n      await sessionService.saveSession(token);\n      await sessionService.saveUser(user);\n    } catch (ex) {\n      throw ex;\n    }\n  };\n};\nexport const logout = history => {\n  return () => {\n    return sessionApi.logout().then(() => {\n      sessionService.deleteSession();\n      sessionService.deleteUser();\n      history.push('/login');\n    }).catch(err => {\n      throw err;\n    });\n  };\n};","map":{"version":3,"sources":["/home/longdq08/react_project/miagi-inside-web/src/actions/sessionActions.js"],"names":["sessionService","sessionApi","login","param","token","user","saveSession","saveUser","ex","logout","history","then","deleteSession","deleteUser","push","catch","err"],"mappings":"AAAA,SAASA,cAAT,QAA+B,qBAA/B;AACA,OAAO,KAAKC,UAAZ,MAA4B,mBAA5B;AAEA,OAAO,MAAMC,KAAK,GAAG,MAAOC,KAAP,IAAiB;AACpC,SAAO,YAAY;AACf,QAAI;AACF,YAAM;AAACC,QAAAA,KAAD;AAAQC,QAAAA;AAAR,UAAgB,MAAMJ,UAAU,CAACC,KAAX,CAAiBC,KAAjB,CAA5B;AACA,YAAMH,cAAc,CAACM,WAAf,CAA2BF,KAA3B,CAAN;AACA,YAAMJ,cAAc,CAACO,QAAf,CAAwBF,IAAxB,CAAN;AACD,KAJD,CAIE,OAAOG,EAAP,EAAW;AACX,YAAMA,EAAN;AACD;AACJ,GARD;AASD,CAVM;AAYP,OAAO,MAAMC,MAAM,GAAIC,OAAD,IAAa;AACjC,SAAO,MAAM;AACX,WAAOT,UAAU,CAACQ,MAAX,GAAoBE,IAApB,CAAyB,MAAM;AACpCX,MAAAA,cAAc,CAACY,aAAf;AACAZ,MAAAA,cAAc,CAACa,UAAf;AACAH,MAAAA,OAAO,CAACI,IAAR,CAAa,QAAb;AACD,KAJM,EAIJC,KAJI,CAIEC,GAAG,IAAI;AACd,YAAOA,GAAP;AACD,KANM,CAAP;AAOD,GARD;AASD,CAVM","sourcesContent":["import { sessionService } from 'redux-react-session';\nimport * as sessionApi from '../api/sessionApi';\n\nexport const login = async (param) => {\n  return async () => {\n      try {\n        const {token, user} = await sessionApi.login(param);\n        await sessionService.saveSession(token);\n        await sessionService.saveUser(user);\n      } catch (ex) {\n        throw ex;\n      }\n  };\n};\n\nexport const logout = (history) => {\n  return () => {\n    return sessionApi.logout().then(() => {\n      sessionService.deleteSession();\n      sessionService.deleteUser();\n      history.push('/login');\n    }).catch(err => {\n      throw (err);\n    });\n  };\n};"]},"metadata":{},"sourceType":"module"}