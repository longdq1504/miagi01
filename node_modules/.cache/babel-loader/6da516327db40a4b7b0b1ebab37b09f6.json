{"ast":null,"code":"import apiConfig from '../common/apiConfigs'; // Simulates server calls\n\nexport const login = user => {\n  // return fetch(apiConfig.base_url + 'auth/login', {\n  //   method: \"post\",\n  //   headers: {\n  //     'Accept': 'application/json',\n  //     'Content-Type': 'application/json'\n  //   },\n  //   body: JSON.stringify({\n  //     email: user.email,\n  //     password: user.password\n  //   })\n  // })\n  // .then(response => response.json()) //map\n  return new Promise((resolve, reject) => {\n    // thu tu param truyen vao resolve, reject (xxx - yyy)\n    fetch(apiConfig.base_url + 'auth/login', {\n      method: \"post\",\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: user.email,\n        password: user.password\n      })\n    }).then(response => response.json()).then(res => {\n      console.log(res);\n\n      if (res.code === 0) {\n        resolve(res.data);\n      } else {\n        reject(res.message);\n      }\n    }).catch(err => reject(err));\n  });\n};\nexport const logout = () => {\n  return new Promise(resolve => setTimeout(resolve, 1000));\n};","map":{"version":3,"sources":["/home/longdq08/react_project/miagi-inside-web/src/api/sessionApi.js"],"names":["apiConfig","login","user","Promise","resolve","reject","fetch","base_url","method","headers","body","JSON","stringify","email","password","then","response","json","res","console","log","code","data","message","catch","err","logout","setTimeout"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,sBAAtB,C,CACA;;AAEA,OAAO,MAAMC,KAAK,GAAIC,IAAD,IAAU;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAAE;AACxCC,IAAAA,KAAK,CAACN,SAAS,CAACO,QAAV,GAAqB,YAAtB,EAAoC;AACvCC,MAAAA,MAAM,EAAE,MAD+B;AAEvCC,MAAAA,OAAO,EAAE;AACP,kBAAU,kBADH;AAEP,wBAAgB;AAFT,OAF8B;AAMvCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,KAAK,EAAEX,IAAI,CAACW,KADO;AAEnBC,QAAAA,QAAQ,EAAEZ,IAAI,CAACY;AAFI,OAAf;AANiC,KAApC,CAAL,CAWCC,IAXD,CAWMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAXlB,EAYCF,IAZD,CAYMG,GAAG,IAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,UAAIA,GAAG,CAACG,IAAJ,KAAa,CAAjB,EAAoB;AAClBjB,QAAAA,OAAO,CAACc,GAAG,CAACI,IAAL,CAAP;AACD,OAFD,MAEQ;AACNjB,QAAAA,MAAM,CAACa,GAAG,CAACK,OAAL,CAAN;AACD;AACF,KAnBD,EAoBCC,KApBD,CAoBOC,GAAG,IAAIpB,MAAM,CAACoB,GAAD,CApBpB;AAqBD,GAtBM,CAAP;AAuBD,CAtCM;AAwCP,OAAO,MAAMC,MAAM,GAAG,MAAM;AAC1B,SAAO,IAAIvB,OAAJ,CAAYC,OAAO,IAAIuB,UAAU,CAACvB,OAAD,EAAU,IAAV,CAAjC,CAAP;AACD,CAFM","sourcesContent":["import apiConfig from '../common/apiConfigs'\n// Simulates server calls\n\nexport const login = (user) => {\n  // return fetch(apiConfig.base_url + 'auth/login', {\n  //   method: \"post\",\n  //   headers: {\n  //     'Accept': 'application/json',\n  //     'Content-Type': 'application/json'\n  //   },\n  //   body: JSON.stringify({\n  //     email: user.email,\n  //     password: user.password\n  //   })\n  // })\n  // .then(response => response.json()) //map\n\n  \n  return new Promise((resolve, reject) => { // thu tu param truyen vao resolve, reject (xxx - yyy)\n    fetch(apiConfig.base_url + 'auth/login', {\n      method: \"post\",\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: user.email,\n        password: user.password\n      })\n    })\n    .then(response => response.json())\n    .then(res => {\n      console.log(res);\n      if (res.code === 0) {\n        resolve(res.data);\n      }  else {\n        reject(res.message);\n      }\n    })\n    .catch(err => reject(err))\n  });\n};\n\nexport const logout = () => {\n  return new Promise(resolve => setTimeout(resolve, 1000));\n};\n"]},"metadata":{},"sourceType":"module"}